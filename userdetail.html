<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
    <title>Document</title>
  </head>
  <body>
    <div id="nav">
      <div onclick="homelocation()">
        <h1>ABC<span>Bank</span></h1>
      </div>
      <div id="nav-tab">
        <h3>HOME</h3>
        <h3>ABOUT</h3>
        <h3>SERVICES</h3>
        <h3>CONTACT US</h3>
      </div>
    </div>
    <div id="userDetailDiv">
      <h2>USER DETAILS</h2>
      <label for="enteredAccount"> <p>Enter Account Number:</p></label>
      <input type="text"  id="enteredAccount" placeholder="Enter Account NUmber" oninput="debounce(getDetail,1000)">
      <p id="userError">Hello</p>

      <h4 id="username">Customer Name:</h4>
      <h4 id="useremail">Email ID</h4>
      <h4 id="typeofaccount">Type Of Account</h4>
      <h4 id="totalbalance">Total Balance</h4>
    </div>
  </body>
</html>

<script>

    let timerId;
    let flag=false

    function debounce(func,delay){
  
        if(timerId){
            clearTimeout(timerId)
        }

        timerId=setTimeout(()=>{
            func()
        },delay)
    }
    
    getDetail=()=>{
       let userData = JSON.parse(localStorage.getItem('users'))
       let enteredAccount= document.getElementById('enteredAccount').value
       let name,emailid,typeofAccount,totalBalance
      
       for(let data of userData){
           if(enteredAccount==data.accountNumber){
               name=data.name
               emailid=data.email
               typeofAccount=data.accountType
               totalBalance=data.balance
               flag=true
               break
           }
       }
       console.log(name,emailid,typeofAccount,totalBalance)
      
       
      
    }

    homelocation=()=>{
        window.location='index.html'
    }
</script>
